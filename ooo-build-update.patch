 2005-04-13  Rene Engelhard  <rene@debian.org>

         * patches/OOO_1_1/crash-objstream.diff,
           patches/OOO_1_1_4/apply: go for upstreams fix from cws heapfix
           (cws-heapfix_CAN-2005-0941.diff), and remove this therefore.
           Additional advantage: CAN nr in the patch name ;-)

 2005-04-12  Rene Engelhard  <rene@debian.org>

         * patches/OOO_1_1/cws-heapfix_CAN-2005-0941.diff,
           patches/OOO_1_1{3,4}/apply: fix heap overflow
           (cws heapbug)

 2005-04-12  Michael Meeks  <michael.meeks@novell.com>

         * patches/OOO_1_1/crash-objstream.diff,
         * patches/OOO_1_1_4/apply: fix crasher n#76741, i#47236

 2005-04-11  Michael Meeks  <michael.meeks@novell.com>

         * patches/OOO_1_1_4/apply: disable
         sc-standard-filter-options.diff - it breaks filter rule
         i18n - & too painful to fix here.

 2005-04-07  Shreyas Srinivasan  <sshreyas@novell.com>

         * patches/OOO_1_1/zoom-combobox.diff: Fix strangely broken patch apply.

 2005-04-05  Shreyas Srinivasan  <sshreyas@novell.com>

         * patches/OOO_1_1/zoom-combobox.diff: Add Page Width, Optimal and
         Entire Page options to the zoom combo box.

--- ooo-build-1.3.9/patches/OOO_1_1/zoom-combobox.diff.orig	2003-08-21 00:06:55.000000000 +0200
+++ ooo-build-1.3.9/patches/OOO_1_1/zoom-combobox.diff	2005-04-15 15:57:52.000000000 +0200
@@ -206,9 +206,170 @@
 +
 +#endif // _SVX_ZOOMTBXCTRL_HXX
 
---- /dev/null	2003-02-11 15:36:20.000000000 +0100
-+++ svx/source/tbxctrls/zoomtbxctrl.cxx	2003-08-17 18:27:29.000000000 +0200
-@@ -0,0 +1,236 @@
+--- sw/source/ui/app/swmodule.cxx	2003-07-07 18:10:23.000000000 +0200
++++ sw/source/ui/app/swmodule.cxx	2003-08-13 22:52:29.000000000 +0200
+@@ -121,6 +121,9 @@
+ #ifndef _SVX_VERT_TEXT_TBXCTRL_HXX
+ #include <svx/verttexttbxctrl.hxx>
+ #endif
++#ifndef _SVX_ZOOMTBXCTRL_HXX
++#include <svx/zoomtbxctrl.hxx>
++#endif
+ #ifndef _CONTDLG_HXX_ //autogen
+ #include <svx/contdlg.hxx>
+ #endif
+@@ -573,6 +576,7 @@
+ 	SvxFontSizeMenuControl::RegisterControl(SID_ATTR_CHAR_FONTHEIGHT, pMod );
+ 
+ 	SwZoomControl::RegisterControl(SID_ATTR_ZOOM, pMod );
++	SvxZoomToolBoxControl::RegisterControl(SID_ATTR_ZOOM, pMod);
+     SwPreviewZoomControl::RegisterControl(FN_PREVIEW_ZOOM, pMod);
+ 	SwHyperlinkControl::RegisterControl(FN_STAT_HYPERLINKS, pMod );
+ 	SvxPosSizeStatusBarControl::RegisterControl(0, pMod );
+
+Index: sw/source/ui/uiview/pview.src
+===================================================================
+RCS file: /cvs/sw/sw/source/ui/uiview/pview.src,v
+retrieving revision 1.28
+diff -u -r1.28 pview.src
+--- sw/source/ui/uiview/pview.src	17 Jul 2003 12:04:56 -0000	1.28
++++ sw/source/ui/uiview/pview.src	20 Aug 2003 21:47:00 -0000
+@@ -1043,11 +1043,6 @@
+             Identifier = SID_ZOOM_IN;
+             HelpID = SID_ZOOM_IN ;
+         };
+-        ToolBoxItem
+-		{
+-			Identifier = FN_PREVIEW_ZOOM;
+-			HelpID = HID_PREVIEW_ZOOM ;
+-		};
+ 		ToolBoxItem { Type = TOOLBOXITEM_SEPARATOR ; };
+ 		ToolBoxItem
+ 		{
+Index: sc/source/ui/app/scdll.cxx
+===================================================================
+RCS file: /cvs/sc/sc/source/ui/app/scdll.cxx,v
+retrieving revision 1.14
+diff -u -r1.14 scdll.cxx
+--- sc/source/ui/app/scdll.cxx	26 Mar 2003 18:05:47 -0000	1.14
++++ sc/source/ui/app/scdll.cxx	18 Aug 2003 19:08:47 -0000
+@@ -105,6 +105,7 @@
+ #include <svx/selctrl.hxx>
+ #include <svx/insctrl.hxx>
+ #include <svx/zoomctrl.hxx>
++#include <svx/zoomtbxctrl.hxx>
+ #include <svx/flditem.hxx>
+ #include <svx/modctrl.hxx>
+ #include <svx/pszctrl.hxx>
+@@ -243,6 +244,7 @@
+ 	SvxInsertStatusBarControl		::RegisterControl(SID_ATTR_INSERT,		pMod);
+ 	SvxSelectionModeControl			::RegisterControl(SID_STATUS_SELMODE,	pMod);
+ 	SvxZoomStatusBarControl			::RegisterControl(SID_ATTR_ZOOM,		pMod);
++	SvxZoomToolBoxControl			::RegisterControl(SID_ATTR_ZOOM,		pMod);
+ 	SvxModifyControl 				::RegisterControl(SID_DOC_MODIFIED,		pMod);
+ 	SvxPosSizeStatusBarControl		::RegisterControl(SID_ATTR_SIZE,		pMod);
+ 
+Index: sd/source/ui/app/sddll2.cxx
+===================================================================
+RCS file: /cvs/graphics/sd/source/ui/app/sddll2.cxx,v
+retrieving revision 1.10
+diff -u -r1.10 sddll2.cxx
+--- sd/source/ui/app/sddll2.cxx	13 Sep 2002 13:42:54 -0000	1.10
++++ sd/source/ui/app/sddll2.cxx	18 Aug 2003 19:03:03 -0000
+@@ -114,6 +114,9 @@
+ #ifndef _SVX_ZOOMCTRL_HXX //autogen
+ #include <svx/zoomctrl.hxx>
+ #endif
++#ifndef _SVX_ZOOMTBXCTRL_HXX //autogen
++#include <svx/zoomtbxctrl.hxx>
++#endif
+ #ifndef _SVX_PSZCTRL_HXX //autogen
+ #include <svx/pszctrl.hxx>
+ #endif
+@@ -242,6 +245,7 @@
+ 
+ 	// StatusBarControls registrieren
+ 	SvxZoomStatusBarControl::RegisterControl( SID_ATTR_ZOOM, pMod );
++	SvxZoomToolBoxControl::RegisterControl( SID_ATTR_ZOOM, pMod );
+ 	SvxPosSizeStatusBarControl::RegisterControl( SID_ATTR_SIZE, pMod );
+ 	SvxModifyControl::RegisterControl( SID_DOC_MODIFIED, pMod );
+ 	//SvxInsertStatusBarControl::RegisterControl(0, pModd);
+Index: starmath/source/smdll.cxx
+===================================================================
+RCS file: /cvs/sw/starmath/source/smdll.cxx,v
+retrieving revision 1.5
+diff -u -r1.5 smdll.cxx
+--- starmath/source/smdll.cxx	12 Oct 2001 15:54:37 -0000	1.5
++++ starmath/source/smdll.cxx	18 Aug 2003 19:10:56 -0000
+@@ -73,6 +73,9 @@
+ #ifndef _SVX_ZOOMCTRL_HXX //autogen
+ #include <svx/zoomctrl.hxx>
+ #endif
++#ifndef _SVX_ZOOMTBXCTRL_HXX //autogen
++#include <svx/zoomtbxctrl.hxx>
++#endif
+ #ifndef _SFX_OBJFAC_HXX
+ #include <sfx2/docfac.hxx>
+ #endif
+@@ -147,6 +150,7 @@
+ 	SmViewShell::RegisterInterface(pp);
+ 
+ 	SvxZoomStatusBarControl::RegisterControl( SID_ATTR_ZOOM, pp );
++	SvxZoomToolBoxControl::RegisterControl( SID_ATTR_ZOOM, pp );
+ 	SvxModifyControl::RegisterControl( SID_TEXTSTATUS, pp );
+ 	SvxUndoRedoControl::RegisterControl( SID_UNDO, pp );
+ 	SvxUndoRedoControl::RegisterControl( SID_REDO, pp );
+cvs server: Diffing starmath/util
+cvs server: Diffing starmath/xml
+Index: svx/prj/d.lst
+===================================================================
+RCS file: /cvs/graphics/svx/prj/d.lst,v
+retrieving revision 1.74
+diff -u -3 -p -r1.74 d.lst
+--- svx/prj/d.lst	29 Apr 2003 16:30:00 -0000	1.74
++++ svx/prj/d.lst	19 Aug 2003 15:25:12 -0000
+@@ -487,6 +487,7 @@ hedabu: ..\inc\xexch.hxx %_DEST%\inc%_EX
+ hedabu: ..\inc\zoom.hxx %_DEST%\inc%_EXT%\svx\zoom.hxx
+ hedabu: ..\inc\zoomctrl.hxx %_DEST%\inc%_EXT%\svx\zoomctrl.hxx
+ hedabu: ..\inc\zoomitem.hxx %_DEST%\inc%_EXT%\svx\zoomitem.hxx
++hedabu: ..\inc\zoomtbxctrl.hxx %_DEST%\inc%_EXT%\svx\zoomtbxctrl.hxx
+ hedabu: ..\source\items\boxobj.hxx %_DEST%\inc%_EXT%\svx\boxobj.hxx
+ hedabu: ..\inc\itemtype.hxx %_DEST%\inc%_EXT%\svx\itemtype.hxx
+ hedabu: ..\inc\outliner.hxx %_DEST%\inc%_EXT%\svx\outliner.hxx
+
+--- svx/inc/dialogs.hrc	2005-03-30 20:37:11.671575983 +0530
++++ svx/inc/dialogs.hrc	2005-03-23 16:57:35.000000000 +0530
+@@ -1116,6 +1116,12 @@
+ #define RID_SVXSTR_COLOR_CONFIG_SAVE2       (RID_SVX_START + 854)
+ #define RID_SVXSTR_COLOR_CONFIG_DELETE      (RID_SVX_START + 855)
+ 
++// Zoom ComboBox Strings
++#define RID_SVX_ZOOM_PAGEWIDTH					(RID_SVX_START + 856)
++#define RID_SVX_ZOOM_WHOLEPAGE					(RID_SVX_START + 857)
++#define RID_SVX_ZOOM_OPTIMAL					(RID_SVX_START + 858)
++
++
+ // Accessibility strings.  The actual string ids are defined in
+ // svx/inc/accessibility.hrc, the strings are defined in
+ // svx/source/accessibility/accessibility.src
+
+--- svx/source/dialog/zoom.cxx	2005-04-01 15:45:11.468692425 +0530
++++ svx/source/dialog/zoom.cxx	2005-04-01 15:46:19.036270372 +0530
+@@ -284,6 +284,10 @@
+ 	aOKBtn.SetClickHdl( LINK( this, SvxZoomDialog, OKHdl ) );
+ 	aUserEdit.SetModifyHdl( LINK( this, SvxZoomDialog, SpinHdl ) );
+ 
++	aOptimalBtn.SetText( String( SVX_RESSTR ( RID_SVX_ZOOM_OPTIMAL  ) ) );
++	aPageWidthBtn.SetText( String( SVX_RESSTR ( RID_SVX_ZOOM_PAGEWIDTH ) ) );
++	aWholePageBtn.SetText( String( SVX_RESSTR ( RID_SVX_ZOOM_WHOLEPAGE  ) ) );
++
+ 	// Default-Werte
+ 	USHORT nValue = 100;
+ 	USHORT nMin = 10;
+
+--- /dev/null	2004-08-25 23:04:59.000000000 +0530
++++ svx/source/tbxctrls/zoomtbxctrl.cxx	2005-04-01 15:23:21.000000000 +0530
+@@ -0,0 +1,276 @@
 +/*************************************************************************
 + *
 + *  $RCSfile$
@@ -287,7 +448,9 @@
 +#ifndef _SV_COMBOBOX_HXX
 +#include <vcl/combobox.hxx>
 +#endif
-+
++//#ifndef _RTL_USTRING_HXX_
++#include <rtl/ustring.hxx>
++//#endif
 +#include "dialogs.hrc"
 +
 +#include "zoomtbxctrl.hxx"
@@ -296,14 +459,20 @@
 +
 +#define MINZOOM 20
 +#define MAXZOOM 600
++#define DEFAULT_ZOOM 100
++
 +
 +SFX_IMPL_TOOLBOX_CONTROL( SvxZoomToolBoxControl, SvxZoomItem);
 +
 +class SvxZoomBox_Impl : public ComboBox
 +{
-+	USHORT			nSlotId;
-+	SfxBindings&	rBindings;
-+	BOOL			bRelease;
++    USHORT	      nSlotId;
++    SfxBindings&      rBindings;
++    BOOL              bRelease;
++    String          maWholePage;
++    String          maOptimal;
++    String          maPageWidth;
++
 +public:
 +	SvxZoomBox_Impl( Window* pParent, USHORT nSlot, SfxBindings& rBind );
 +	~SvxZoomBox_Impl();
@@ -316,11 +485,19 @@
 +
 +};
 +
++static String RemoveTilda( USHORT nId )
++{
++    return String( SVX_RESSTR ( nId ) ).EraseAllChars('~');
++}
++
 +SvxZoomBox_Impl::SvxZoomBox_Impl( Window* pParent, USHORT nSlot, SfxBindings& rBind ):
 +	ComboBox(pParent, SVX_RES(RID_SVXTBX_ZOOM)),
 +	nSlotId(nSlot),
 +	rBindings(rBind),
-+	bRelease(TRUE)
++	bRelease(TRUE),
++	maPageWidth( RemoveTilda ( RID_SVX_ZOOM_PAGEWIDTH ) ),
++	maOptimal( RemoveTilda ( RID_SVX_ZOOM_OPTIMAL  ) ),
++	maWholePage( RemoveTilda ( RID_SVX_ZOOM_WHOLEPAGE ) )
 +{
 +	EnableAutocomplete( FALSE );
 +	USHORT aZoomValues[] =
@@ -331,6 +508,10 @@
 +	sEntry += '%';
 +	InsertEntry(sEntry);
 +	}
++	InsertEntry( maPageWidth );
++	InsertEntry( maOptimal );
++	InsertEntry( maWholePage );
++
 +}
 +
 +SvxZoomBox_Impl::~SvxZoomBox_Impl()
@@ -340,21 +521,41 @@
 +{
 +	if ( !IsTravelSelect() )
 +	{
-+	String sEntry( GetText() );
-+	sEntry.EraseAllChars( '%' );
-+	USHORT nZoom = (USHORT)sEntry.ToInt32();
 +
-+	if( nZoom < MINZOOM )
++	String sEntry( GetText( ) );
++	if( sEntry == maWholePage )
++	{
++	      SvxZoomItem aItem( SVX_ZOOM_WHOLEPAGE, DEFAULT_ZOOM, nSlotId );
++	      rBindings.GetDispatcher()->Execute(
++		nSlotId, SFX_CALLMODE_SYNCHRON | SFX_CALLMODE_RECORD, &aItem, 0L );
++	}
++	else if( sEntry == maPageWidth )
++	    {
++		SvxZoomItem aItem( SVX_ZOOM_PAGEWIDTH, DEFAULT_ZOOM, nSlotId );
++		rBindings.GetDispatcher()->Execute(
++		    nSlotId, SFX_CALLMODE_SYNCHRON | SFX_CALLMODE_RECORD, &aItem, 0L );
++	    }
++	else if( sEntry == maOptimal )
++	    {
++		SvxZoomItem aItem( SVX_ZOOM_OPTIMAL, DEFAULT_ZOOM, nSlotId );
++		rBindings.GetDispatcher()->Execute(
++		    nSlotId, SFX_CALLMODE_SYNCHRON | SFX_CALLMODE_RECORD, &aItem, 0L );
++	    } 
++	else
++	{
++	    sEntry.EraseAllChars( '%' );
++	    USHORT nZoom = (USHORT)sEntry.ToInt32();
++	
++	    if( nZoom < MINZOOM )
 +		nZoom = MINZOOM;
-+	if( nZoom > MAXZOOM )
++	    if( nZoom > MAXZOOM )
 +		nZoom = MAXZOOM;
-+
-+	SvxZoomItem aItem( SVX_ZOOM_PERCENT, nZoom, nSlotId );
-+	rBindings.GetDispatcher()->Execute(
-+		nSlotId, SFX_CALLMODE_SYNCHRON | SFX_CALLMODE_RECORD, &aItem, 0L );
-+
++	    SvxZoomItem aItem( SVX_ZOOM_PERCENT, nZoom, nSlotId );
++	    rBindings.GetDispatcher()->Execute(
++	    nSlotId, SFX_CALLMODE_SYNCHRON | SFX_CALLMODE_RECORD, &aItem, 0L );	    
++	}	
++       }
 +	ReleaseFocus();
-+	}
 +}
 +
 +long SvxZoomBox_Impl::Notify( NotifyEvent& rNEvt )
@@ -445,134 +646,301 @@
 +	SvxZoomBox_Impl* pRet = new SvxZoomBox_Impl( pParent, GetId(), GetBindings() );
 +	return pRet;
 +}
-diff -Nur -x CVS -x unxlngi4.pro -x '*.bmp' -x ooo-convert-stamp sw/source/ui/app/swmodule.cxx sw/source/ui/app/swmodule.cxx
---- sw/source/ui/app/swmodule.cxx	2003-07-07 18:10:23.000000000 +0200
-+++ sw/source/ui/app/swmodule.cxx	2003-08-13 22:52:29.000000000 +0200
-@@ -121,6 +121,9 @@
- #ifndef _SVX_VERT_TEXT_TBXCTRL_HXX
- #include <svx/verttexttbxctrl.hxx>
- #endif
-+#ifndef _SVX_ZOOMTBXCTRL_HXX
-+#include <svx/zoomtbxctrl.hxx>
-+#endif
- #ifndef _CONTDLG_HXX_ //autogen
- #include <svx/contdlg.hxx>
- #endif
-@@ -573,6 +576,7 @@
- 	SvxFontSizeMenuControl::RegisterControl(SID_ATTR_CHAR_FONTHEIGHT, pMod );
- 
- 	SwZoomControl::RegisterControl(SID_ATTR_ZOOM, pMod );
-+	SvxZoomToolBoxControl::RegisterControl(SID_ATTR_ZOOM, pMod);
-     SwPreviewZoomControl::RegisterControl(FN_PREVIEW_ZOOM, pMod);
- 	SwHyperlinkControl::RegisterControl(FN_STAT_HYPERLINKS, pMod );
- 	SvxPosSizeStatusBarControl::RegisterControl(0, pMod );
 
-Index: sw/source/ui/uiview/pview.src
-===================================================================
-RCS file: /cvs/sw/sw/source/ui/uiview/pview.src,v
-retrieving revision 1.28
-diff -u -r1.28 pview.src
---- sw/source/ui/uiview/pview.src	17 Jul 2003 12:04:56 -0000	1.28
-+++ sw/source/ui/uiview/pview.src	20 Aug 2003 21:47:00 -0000
-@@ -1043,11 +1043,6 @@
-             Identifier = SID_ZOOM_IN;
-             HelpID = SID_ZOOM_IN ;
-         };
--        ToolBoxItem
--		{
--			Identifier = FN_PREVIEW_ZOOM;
--			HelpID = HID_PREVIEW_ZOOM ;
--		};
- 		ToolBoxItem { Type = TOOLBOXITEM_SEPARATOR ; };
- 		ToolBoxItem
- 		{
-Index: sc/source/ui/app/scdll.cxx
-===================================================================
-RCS file: /cvs/sc/sc/source/ui/app/scdll.cxx,v
-retrieving revision 1.14
-diff -u -r1.14 scdll.cxx
---- sc/source/ui/app/scdll.cxx	26 Mar 2003 18:05:47 -0000	1.14
-+++ sc/source/ui/app/scdll.cxx	18 Aug 2003 19:08:47 -0000
-@@ -105,6 +105,7 @@
- #include <svx/selctrl.hxx>
- #include <svx/insctrl.hxx>
- #include <svx/zoomctrl.hxx>
-+#include <svx/zoomtbxctrl.hxx>
- #include <svx/flditem.hxx>
- #include <svx/modctrl.hxx>
- #include <svx/pszctrl.hxx>
-@@ -243,6 +244,7 @@
- 	SvxInsertStatusBarControl		::RegisterControl(SID_ATTR_INSERT,		pMod);
- 	SvxSelectionModeControl			::RegisterControl(SID_STATUS_SELMODE,	pMod);
- 	SvxZoomStatusBarControl			::RegisterControl(SID_ATTR_ZOOM,		pMod);
-+	SvxZoomToolBoxControl			::RegisterControl(SID_ATTR_ZOOM,		pMod);
- 	SvxModifyControl 				::RegisterControl(SID_DOC_MODIFIED,		pMod);
- 	SvxPosSizeStatusBarControl		::RegisterControl(SID_ATTR_SIZE,		pMod);
+--- svx/source/tbxctrls/tbcontrl.src	2005-03-30 21:53:57.000000000 +0530
++++ svx/source/tbxctrls/tbcontrl.src	2005-03-23 18:10:06.000000000 +0530
+@@ -517,6 +517,141 @@
+ 	Text[ kannada ] = "‡≤™‡≥Å‡≤ü‡≤ó‡≤≥‡≥Å";
+ 	Text[ galician ] = "Pages";
+ };
++String RID_SVX_ZOOM_WHOLEPAGE
++{
++		Text = "Ganze Seite" ;
++		Text [ ENGLISH ] = "Whole page" ;
++		Text [ norwegian ] = "Hele siden" ;
++		Text [ italian ] = "Pagina intera" ;
++		Text [ portuguese_brazilian ] = "P·gina Int~eira" ;
++		Text [ portuguese ] = "P·gina inteira" ;
++		Text [ finnish ] = "Koko sivu" ;
++		Text [ danish ] = "Hele siden" ;
++		Text [ french ] = "Page entiËre" ;
++		Text [ swedish ] = "Hela sidan" ;
++		Text [ dutch ] = "Hele pagina" ;
++		Text [ spanish ] = "Toda la p·gina" ;
++		Text [ english_us ] = "Entire Page" ;
++		Text[ chinese_simplified ] = "Êï¥È°µ(E)";
++		Text[ russian ] = "Õ‡ ‚Ò˛ ÒÚ‡ÌËˆÛ";
++		Text[ polish ] = "~Ca≥a strona";
++		Text[ japanese ] = "„Éö„Éº„Ç∏ÂÖ®‰Ωì(E)";
++		Text[ chinese_traditional ] = "Êï¥È†Å(E)";
++		Text[ arabic ] = "’›Õ… ﬂ«„·…";
++		Text[ greek ] = "œÎ¸ÍÎÁÒÁ ÛÂÎﬂ‰·";
++		Text[ korean ] = "Ï†ÑÏ≤¥ ÌéòÏù¥ÏßÄ(E)";
++		Text[ turkish ] = "Tam sayfa";
++		Text[ language_user1 ] = "Cela stran";
++		Text[ catalan ] = "~Tota la p‡gina";
++		Text[ thai ] = "~‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏ô‡πâ‡∏≤";
++		Text[ czech ] = "Cel√° str√°nka";
++		Text[ hebrew ] = "◊¢◊û◊ï◊ì ◊©◊ú◊ù";
++		Text[ hindi ] = "~‡§∏‡§Æ‡•ç‡§™‡•Ç‡§∞‡•ç‡§£ ‡§™‡•É‡§∑‡•ç‡§†";
++		Text[ slovak ] = "Cel√° str√°nka";
++		Text[ hungarian ] = "Teljes oldal";
++		Text[ slovenian ] = "Cela stran";
++		Text[ estonian ] = "Terve lehek√ºlg";
++		Text[ welsh ] = "Tudalen Gyfan";
++		Text[ northernsotho ] = "Letlakala Ka moka";
++		Text[ afrikaans ] = "Hele bladsy";
++		Text[ zulu ] = "Ikhasi lonke";
++		Text[ norwegian_nynorsk ] = "Heile sida";
++		Text[ tswana ] = "Yotlhe Tsebe";
++		Text[ basque ] = "Orrialde osoa";
++		Text[ lithuanian ] = "Visas puslapis";
++		Text[ kannada ] = "‡≤∏‡≤Ç‡≤™‡≥Ç‡≤∞‡≥ç‡≤£ ‡≤™‡≥Å‡≤ü";
++		Text[ galician ] = "Toda a p·xina";
++	};
++String RID_SVX_ZOOM_PAGEWIDTH
++{
++		Text = "Seitenbreite" ;
++		Text [ ENGLISH ] = "Page width" ;
++		Text [ norwegian ] = "Sidebredde" ;
++		Text [ italian ] = "Largh. pagina" ;
++		Text [ portuguese_brazilian ] = "Largura da P·gina" ;
++		Text [ portuguese ] = "Larg. de p·gina" ;
++		Text [ finnish ] = "Sivun leveys" ;
++		Text [ danish ] = "Sidebredde" ;
++		Text [ french ] = "Largeur de page" ;
++		Text [ swedish ] = "Sidbredd" ;
++		Text [ dutch ] = "Paginabreedte" ;
++		Text [ spanish ] = "Ancho de p·gina" ;
++		Text [ english_us ] = "Page Width" ;
++		Text[ chinese_simplified ] = "È°µÈù¢ÂÆΩÂ∫¶(P)";
++		Text[ russian ] = "œÓ ¯ËËÌÂ ÒÚ‡ÌËˆ˚";
++		Text[ polish ] = "SzerokoúÊ strony";
++		Text[ japanese ] = "„Éö„Éº„Ç∏ÂπÖ(~P)";
++		Text[ chinese_traditional ] = "È†ÅÈù¢ÂØ¨Â∫¶(~P)";
++		Text[ arabic ] = "⁄—÷ «·’›Õ…";
++		Text[ greek ] = "–Î‹ÙÔÚ ÛÂÎﬂ‰·Ú";
++		Text[ korean ] = "ÌéòÏù¥ÏßÄ ÎÑàÎπÑ(~P)";
++		Text[ turkish ] = "Sayfa geni˛lii";
++		Text[ language_user1 ] = "≈†irina strani";
++		Text[ catalan ] = "Ample de p‡gina";
++		Text[ thai ] = "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏Ç‡∏≠‡∏á~‡∏´‡∏ô‡πâ‡∏≤";
++		Text[ czech ] = "≈†√≠≈ôka str√°nky";
++		Text[ hebrew ] = "◊®◊ï◊ó◊ë ◊¢◊û◊ï◊ì";
++		Text[ hindi ] = "~‡§™‡•É‡§∑‡•ç‡§† ‡§ö‡•å‡§°‡§º‡§æ‡§à";
++		Text[ slovak ] = "≈†√≠rka str√°nky";
++		Text[ hungarian ] = "~Oldalsz√©less√©g";
++		Text[ slovenian ] = "≈†irina strani";
++		Text[ estonian ] = "Lehek√ºlje laius";
++		Text[ welsh ] = "Lled tudalen";
++		Text[ northernsotho ] = "Bophara bja Letlakala";
++		Text[ afrikaans ] = "Bladsybreedte";
++		Text[ zulu ] = "Ububanzi bekhasi";
++		Text[ norwegian_nynorsk ] = "Sidebreidd";
++		Text[ tswana ] = "Tsebe Bophara";
++		Text[ basque ] = "Orrialde-zabalera";
++		Text[ lithuanian ] = "Puslapio plotis";
++		Text[ kannada ] = "‡≤™‡≥Å‡≤ü‡≤¶ ‡≤Ö‡≤ó‡≤≤";
++		Text[ galician ] = "Ancho de p·xina";
++	};
++String RID_SVX_ZOOM_OPTIMAL
++{
++		Text = "Optimal" ;
++		Text [ English ] = "Optimal" ;
++		Text [ norwegian ] = "Best mulig" ;
++		Text [ italian ] = "Ottimale" ;
++		Text [ portuguese_brazilian ] = "Ideal" ;
++		Text [ portuguese ] = "Optimizar" ;
++		Text [ finnish ] = "Optimaalinen" ;
++		Text [ danish ] = "Optimal" ;
++		Text [ french ] = "Optimal" ;
++		Text [ swedish ] = "Optimal" ;
++		Text [ dutch ] = "Optimaal" ;
++		Text [ spanish ] = "”ptimo" ;
++		Text [ english_us ] = "Optimal" ;
++		Text[ chinese_simplified ] = "ÊúÄ‰Ω≥(O)";
++		Text[ russian ] = "ŒÔÚËÏ‡Î¸Ì˚È";
++		Text[ polish ] = "Optymalnie";
++		Text[ japanese ] = "ÊúÄÈÅ©(O)";
++		Text[ chinese_traditional ] = "ÊúÄÂêàÈÅ©(O)";
++		Text[ arabic ] = "«·√„À·";
++		Text[ greek ] = "¬›ÎÙÈÛÙÁ";
++		Text[ korean ] = "ÏµúÏ†ÅÏúºÎ°ú(O)";
++		Text[ turkish ] = "En Uygun";
++		Text[ language_user1 ] = "Optimalno";
++		Text[ catalan ] = "“ptim";
++		Text[ thai ] = "‡πÄ‡∏´~‡∏°‡∏≤‡∏∞‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î";
++		Text[ czech ] = "Optim√°ln√≠";
++		Text[ hebrew ] = "◊û◊ô◊ò◊ë◊ô";
++		Text[ hindi ] = "~‡§Ø‡•ã‡§ó‡•ç‡§Ø";
++		Text[ slovak ] = "~Optim√°lny";
++		Text[ hungarian ] = "Sz√∂veghat√°r";
++		Text[ slovenian ] = "Optimalno";
++		Text[ estonian ] = "Optimaalne";
++		Text[ welsh ] = "Gorau";
++		Text[ northernsotho ] = "Kgolo";
++		Text[ afrikaans ] = "Optimale";
++		Text[ zulu ] = "Okuthandwayo";
++		Text[ norwegian_nynorsk ] = "Best mogleg";
++		Text[ tswana ] = "Kgethegile";
++		Text[ basque ] = "Onena";
++		Text[ lithuanian ] = "Optimalus";
++		Text[ kannada ] = "‡≤Ö‡≤§‡≥ç‡≤Ø‡≤Ç‡≤§ ‡≤Ö‡≤®‡≥Å‡≤ï‡≥Ç‡≤≤‡≤ï‡≤∞";
++		Text[ galician ] = "”ptimo";
++	};
+ Image RID_SVXIMG_GRAF_RED
+ {
+ 	ImageBitmap = Bitmap { File = "sc10865.bmp" ; };
+@@ -588,6 +723,7 @@
+ 	MASKCOLOR
+ };
  
-Index: sd/source/ui/app/sddll2.cxx
-===================================================================
-RCS file: /cvs/graphics/sd/source/ui/app/sddll2.cxx,v
-retrieving revision 1.10
-diff -u -r1.10 sddll2.cxx
---- sd/source/ui/app/sddll2.cxx	13 Sep 2002 13:42:54 -0000	1.10
-+++ sd/source/ui/app/sddll2.cxx	18 Aug 2003 19:03:03 -0000
-@@ -114,6 +114,9 @@
- #ifndef _SVX_ZOOMCTRL_HXX //autogen
- #include <svx/zoomctrl.hxx>
- #endif
-+#ifndef _SVX_ZOOMTBXCTRL_HXX //autogen
-+#include <svx/zoomtbxctrl.hxx>
-+#endif
- #ifndef _SVX_PSZCTRL_HXX //autogen
- #include <svx/pszctrl.hxx>
- #endif
-@@ -242,6 +245,7 @@
++
+ // ********************************************************************** EOF
  
- 	// StatusBarControls registrieren
- 	SvxZoomStatusBarControl::RegisterControl( SID_ATTR_ZOOM, pMod );
-+	SvxZoomToolBoxControl::RegisterControl( SID_ATTR_ZOOM, pMod );
- 	SvxPosSizeStatusBarControl::RegisterControl( SID_ATTR_SIZE, pMod );
- 	SvxModifyControl::RegisterControl( SID_DOC_MODIFIED, pMod );
- 	//SvxInsertStatusBarControl::RegisterControl(0, pModd);
-Index: starmath/source/smdll.cxx
-===================================================================
-RCS file: /cvs/sw/starmath/source/smdll.cxx,v
-retrieving revision 1.5
-diff -u -r1.5 smdll.cxx
---- starmath/source/smdll.cxx	12 Oct 2001 15:54:37 -0000	1.5
-+++ starmath/source/smdll.cxx	18 Aug 2003 19:10:56 -0000
-@@ -73,6 +73,9 @@
- #ifndef _SVX_ZOOMCTRL_HXX //autogen
- #include <svx/zoomctrl.hxx>
- #endif
-+#ifndef _SVX_ZOOMTBXCTRL_HXX //autogen
-+#include <svx/zoomtbxctrl.hxx>
-+#endif
- #ifndef _SFX_OBJFAC_HXX
- #include <sfx2/docfac.hxx>
- #endif
-@@ -147,6 +150,7 @@
- 	SmViewShell::RegisterInterface(pp);
  
- 	SvxZoomStatusBarControl::RegisterControl( SID_ATTR_ZOOM, pp );
-+	SvxZoomToolBoxControl::RegisterControl( SID_ATTR_ZOOM, pp );
- 	SvxModifyControl::RegisterControl( SID_TEXTSTATUS, pp );
- 	SvxUndoRedoControl::RegisterControl( SID_UNDO, pp );
- 	SvxUndoRedoControl::RegisterControl( SID_REDO, pp );
-cvs server: Diffing starmath/util
-cvs server: Diffing starmath/xml
-Index: svx/prj/d.lst
-===================================================================
-RCS file: /cvs/graphics/svx/prj/d.lst,v
-retrieving revision 1.74
-diff -u -3 -p -r1.74 d.lst
---- svx/prj/d.lst	29 Apr 2003 16:30:00 -0000	1.74
-+++ svx/prj/d.lst	19 Aug 2003 15:25:12 -0000
-@@ -487,6 +487,7 @@ hedabu: ..\inc\xexch.hxx %_DEST%\inc%_EX
- hedabu: ..\inc\zoom.hxx %_DEST%\inc%_EXT%\svx\zoom.hxx
- hedabu: ..\inc\zoomctrl.hxx %_DEST%\inc%_EXT%\svx\zoomctrl.hxx
- hedabu: ..\inc\zoomitem.hxx %_DEST%\inc%_EXT%\svx\zoomitem.hxx
-+hedabu: ..\inc\zoomtbxctrl.hxx %_DEST%\inc%_EXT%\svx\zoomtbxctrl.hxx
- hedabu: ..\source\items\boxobj.hxx %_DEST%\inc%_EXT%\svx\boxobj.hxx
- hedabu: ..\inc\itemtype.hxx %_DEST%\inc%_EXT%\svx\itemtype.hxx
- hedabu: ..\inc\outliner.hxx %_DEST%\inc%_EXT%\svx\outliner.hxx
+--- svx/source/dialog/zoom.src	2004-09-09 21:41:33.000000000 +0530
++++ svx/source/dialog/zoom.src.bak	2005-04-07 11:27:12.168372800 +0530
+@@ -76,142 +76,16 @@
+ 	{
+         Pos = MAP_APPFONT ( 12 , 14 ) ;
+ 		Size = MAP_APPFONT ( 80 , 10 ) ;
+-		Text = "~Ganze Seite" ;
+-		Text [ ENGLISH ] = "~Whole page" ;
+-		Text [ norwegian ] = "~Hele siden" ;
+-		Text [ italian ] = "~Pagina intera" ;
+-		Text [ portuguese_brazilian ] = "P·gina Int~eira" ;
+-		Text [ portuguese ] = "~P·gina inteira" ;
+-		Text [ finnish ] = "~Koko sivu" ;
+-		Text [ danish ] = "H~ele siden" ;
+-		Text [ french ] = "Page entiËre" ;
+-		Text [ swedish ] = "Hela sidan" ;
+-		Text [ dutch ] = "H~ele pagina" ;
+-		Text [ spanish ] = "~Toda la p·gina" ;
+-		Text [ english_us ] = "~Entire Page" ;
+-		Text[ chinese_simplified ] = "Êï¥È°µ(~E)";
+-		Text[ russian ] = "Õ‡ ‚Ò˛ ÒÚ‡ÌËˆÛ";
+-		Text[ polish ] = "~Ca≥a strona";
+-		Text[ japanese ] = "„Éö„Éº„Ç∏ÂÖ®‰Ωì(~E)";
+-		Text[ chinese_traditional ] = "Êï¥È†Å(~E)";
+-		Text[ arabic ] = "’›Õ… ﬂ«„·…";
+-		Text[ greek ] = "œÎ¸ÍÎÁÒÁ ÛÂÎﬂ‰·";
+-		Text[ korean ] = "Ï†ÑÏ≤¥ ÌéòÏù¥ÏßÄ(~E)";
+-		Text[ turkish ] = "Tam sayfa";
+-		Text[ language_user1 ] = "~Cela stran";
+-		Text[ catalan ] = "~Tota la p‡gina";
+-		Text[ thai ] = "~‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏ô‡πâ‡∏≤";
+-		Text[ czech ] = "Cel√° str√°nka";
+-		Text[ hebrew ] = "◊¢◊û◊ï◊ì ◊©◊ú◊ù";
+-		Text[ hindi ] = "~‡§∏‡§Æ‡•ç‡§™‡•Ç‡§∞‡•ç‡§£ ‡§™‡•É‡§∑‡•ç‡§†";
+-		Text[ slovak ] = "~Cel√° str√°nka";
+-		Text[ hungarian ] = "~Teljes oldal";
+-		Text[ slovenian ] = "~Cela stran";
+-		Text[ estonian ] = "T~erve lehek√ºlg";
+-		Text[ welsh ] = "~Tudalen Gyfan";
+-		Text[ northernsotho ] = "~Letlakala Ka moka";
+-		Text[ afrikaans ] = "~Hele bladsy";
+-		Text[ zulu ] = "Ikhasi ~lonke";
+-		Text[ norwegian_nynorsk ] = "~Heile sida";
+-		Text[ tswana ] = "~Yotlhe Tsebe";
+-		Text[ basque ] = "~Orrialde osoa";
+-		Text[ lithuanian ] = "~Visas puslapis";
+-		Text[ kannada ] = "‡≤∏‡≤Ç‡≤™‡≥Ç‡≤∞‡≥ç‡≤£ ‡≤™‡≥Å‡≤ü";
+-		Text[ galician ] = "~Toda a p·xina";
+ 	};
+ 	RadioButton BTN_PAGE_WIDTH
+ 	{
+         Pos = MAP_APPFONT ( 12 , 27 ) ;
+ 		Size = MAP_APPFONT ( 80 , 10 ) ;
+-		Text = "Seiten~breite" ;
+-		Text [ ENGLISH ] = "~Page width" ;
+-		Text [ norwegian ] = "~Sidebredde" ;
+-		Text [ italian ] = "Larg~h. pagina" ;
+-		Text [ portuguese_brazilian ] = "Largura da ~P·gina" ;
+-		Text [ portuguese ] = "~Larg. de p·gina" ;
+-		Text [ finnish ] = "~Sivun leveys" ;
+-		Text [ danish ] = "Side~bredde" ;
+-		Text [ french ] = "~Largeur de page" ;
+-		Text [ swedish ] = "Sidbredd" ;
+-		Text [ dutch ] = "~Paginabreedte" ;
+-		Text [ spanish ] = "~Ancho de p·gina" ;
+-		Text [ english_us ] = "~Page Width" ;
+-		Text[ chinese_simplified ] = "È°µÈù¢ÂÆΩÂ∫¶(~P)";
+-		Text[ russian ] = "œÓ ¯ËËÌÂ ÒÚ‡ÌËˆ˚";
+-		Text[ polish ] = "SzerokoúÊ ~strony";
+-		Text[ japanese ] = "„Éö„Éº„Ç∏ÂπÖ(~P)";
+-		Text[ chinese_traditional ] = "È†ÅÈù¢ÂØ¨Â∫¶(~P)";
+-		Text[ arabic ] = "⁄—÷ «·’›Õ…";
+-		Text[ greek ] = "–Î‹ÙÔÚ ÛÂÎﬂ‰·Ú";
+-		Text[ korean ] = "ÌéòÏù¥ÏßÄ ÎÑàÎπÑ(~P)";
+-		Text[ turkish ] = "Sayfa geni˛lii";
+-		Text[ language_user1 ] = "≈†irina s~trani";
+-		Text[ catalan ] = "~Ample de p‡gina";
+-		Text[ thai ] = "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏Ç‡∏≠‡∏á~‡∏´‡∏ô‡πâ‡∏≤";
+-		Text[ czech ] = "≈†√≠≈ôka str√°nky";
+-		Text[ hebrew ] = "◊®◊ï◊ó◊ë ◊¢◊û◊ï◊ì";
+-		Text[ hindi ] = "~‡§™‡•É‡§∑‡•ç‡§† ‡§ö‡•å‡§°‡§º‡§æ‡§à";
+-		Text[ slovak ] = "≈†√≠rka ~str√°nky";
+-		Text[ hungarian ] = "~Oldalsz√©less√©g";
+-		Text[ slovenian ] = "≈†irina s~trani";
+-		Text[ estonian ] = "~Lehek√ºlje laius";
+-		Text[ welsh ] = "~Lled tudalen";
+-		Text[ northernsotho ] = "~Bophara bja Letlakala";
+-		Text[ afrikaans ] = "~Bladsybreedte";
+-		Text[ zulu ] = "Ububanzi be~khasi";
+-		Text[ norwegian_nynorsk ] = "~Sidebreidd";
+-		Text[ tswana ] = "~Tsebe Bophara";
+-		Text[ basque ] = "O~rrialde-zabalera";
+-		Text[ lithuanian ] = "~Puslapio plotis";
+-		Text[ kannada ] = "‡≤™‡≥Å‡≤ü‡≤¶ ‡≤Ö‡≤ó‡≤≤";
+-		Text[ galician ] = "~Ancho de p·xina";
+ 	};
+ 	RadioButton BTN_OPTIMAL
+ 	{
+         Pos = MAP_APPFONT ( 12 , 40 ) ;
+ 		Size = MAP_APPFONT ( 80 , 10 ) ;
+-		Text = "~Optimal" ;
+-		Text [ English ] = "~Optimal" ;
+-		Text [ norwegian ] = "~Best mulig" ;
+-		Text [ italian ] = "~Ottimale" ;
+-		Text [ portuguese_brazilian ] = "~Ideal" ;
+-		Text [ portuguese ] = "~Optimizar" ;
+-		Text [ finnish ] = "O~ptimaalinen" ;
+-		Text [ danish ] = "~Optimal" ;
+-		Text [ french ] = "~Optimal" ;
+-		Text [ swedish ] = "Optimal" ;
+-		Text [ dutch ] = "~Optimaal" ;
+-		Text [ spanish ] = "”~ptimo" ;
+-		Text [ english_us ] = "~Optimal" ;
+-		Text[ chinese_simplified ] = "ÊúÄ‰Ω≥(~O)";
+-		Text[ russian ] = "ŒÔÚËÏ‡Î¸Ì˚È";
+-		Text[ polish ] = "~Optymalnie";
+-		Text[ japanese ] = "ÊúÄÈÅ©(~O)";
+-		Text[ chinese_traditional ] = "ÊúÄÂêàÈÅ©(~O)";
+-		Text[ arabic ] = "«·√„À·";
+-		Text[ greek ] = "¬›ÎÙÈÛÙÁ";
+-		Text[ korean ] = "ÏµúÏ†ÅÏúºÎ°ú(~O)";
+-		Text[ turkish ] = "~En Uygun";
+-		Text[ language_user1 ] = "~Optimalno";
+-		Text[ catalan ] = "“~ptim";
+-		Text[ thai ] = "‡πÄ‡∏´~‡∏°‡∏≤‡∏∞‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î";
+-		Text[ czech ] = "Optim√°ln√≠";
+-		Text[ hebrew ] = "◊û◊ô◊ò◊ë◊ô";
+-		Text[ hindi ] = "~‡§Ø‡•ã‡§ó‡•ç‡§Ø";
+-		Text[ slovak ] = "~Optim√°lny";
+-		Text[ hungarian ] = "S~z√∂veghat√°r";
+-		Text[ slovenian ] = "~Optimalno";
+-		Text[ estonian ] = "~Optimaalne";
+-		Text[ welsh ] = "~Gorau";
+-		Text[ northernsotho ] = "~Kgolo";
+-		Text[ afrikaans ] = "~Optimale";
+-		Text[ zulu ] = "~Okuthandwayo";
+-		Text[ norwegian_nynorsk ] = "~Best mogleg";
+-		Text[ tswana ] = "~Kgethegile";
+-		Text[ basque ] = "O~nena";
+-		Text[ lithuanian ] = "~Optimalus";
+-		Text[ kannada ] = "‡≤Ö‡≤§‡≥ç‡≤Ø‡≤Ç‡≤§ ‡≤Ö‡≤®‡≥Å‡≤ï‡≥Ç‡≤≤‡≤ï‡≤∞";
+-		Text[ galician ] = "”~ptimo";
+ 	};
+ 	RadioButton BTN_200
+ 	{
--- ooo-build-1.3.9/patches/OOO_1_1/cws-heapbug_CAN-2005-0941.diff.orig	1970-01-01 01:00:00.000000000 +0100
+++ ooo-build-1.3.9/patches/OOO_1_1/cws-heapbug_CAN-2005-0941.diff	2005-04-15 15:58:05.000000000 +0200
@@ -0,0 +1,17 @@
+Index: source/sdstor/stgole.cxx
+===================================================================
+RCS file: /cvs/util/sot/source/sdstor/stgole.cxx,v
+retrieving revision 1.4
+retrieving revision 1.4.206.1
+diff -u -u -r1.4 -r1.4.206.1
+--- sot/source/sdstor/stgole.cxx	22 Jul 2002 12:28:43 -0000	1.4
++++ sot/source/sdstor/stgole.cxx	11 Apr 2005 16:22:26 -0000	1.4.206.1
+@@ -156,6 +156,8 @@
+ 		*this >> aClsId;
+ 		INT32 nLen1 = 0;
+ 		*this >> nLen1;
++		// the higher bits are ignored
++		nLen1 &= 0xFFFF;
+ 		sal_Char* p = new sal_Char[ (USHORT) nLen1 ];
+ 		if( Read( p, nLen1 ) == (ULONG) nLen1 )
+ 		{
--- ooo-build-1.3.9/patches/OOO_1_1_4/apply.orig	2005-03-31 18:20:33.000000000 +0200
+++ ooo-build-1.3.9/patches/OOO_1_1_4/apply	2005-04-15 15:58:46.000000000 +0200
@@ -10,7 +10,7 @@
 
 Minimal : MinimalOnly, BuildBits
 Common : BuildBits, IconRender, Misc, MenuFixes, CalcFixes, DBFixes, Lotus, QPro
-LinuxCommon : Common, VCLPlug, FontBits, i18n, SystemBits, RecentFiles, LinuxOnly, ODKFixes, StartupNotification, VBABits
+LinuxCommon : Common, VCLPlug, FontBits, i18n, SystemBits, RecentFiles, LinuxOnly, ODKFixes, StartupNotification, VBABits, Security
 DebianBase : DebianOnly, LinuxCommon, FilePickers, NoRpath
 Debian : DebianBase, XineramaPIC, GnomeVFS, Evo2, NonArkCommon
 DebianWoody: DebianBase, OldLibArt
@@ -861,7 +861,7 @@
 # adds to Autofilter Empty-NonEmpty options bxc #62165 Issue#35578
 sc-autofilter-empty-nonempty.diff
 # Improves the standard filter options and menu. bxc #62187 #62495 Issue#35579
-sc-standard-filter-options.diff
+# sc-standard-filter-options.diff - disable, broken.
 # Hides the filtered rows when height of rows are changed bxc #62161 Issue#35581
 sc-filter-hide-filteredrows.diff
 # allows not to delete nonfiltered rows while deleting filtered ones bxc #62186 Issue#35582
@@ -1315,3 +1315,6 @@
 layout-vcl-layout.diff
 layout-vcl-window.diff
 layout-test.diff
+
+[ Security ]
+cws-heapbug_CAN-2005-0941.diff
